/* --- GLOBAL VARIABLES --- */
:root {
  --sidebar-bg: #DEDEDE;
  --main-bg: #FFFFFF;
  --primary-text: #1F2937;
  --secondary-text: #6B7280;
  --brand-blue: #2563EB;
  --active-nav-bg: #A7A7A7;
  --border-color: #E5E7EB;
  --success-bg: #D1FAE5;
  --success-text: #065F46;
}

/* --- RESET --- */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: 'Inter', sans-serif;
}

/* --- CONTAINER (No Sidebar Styles needed here anymore) --- */
.dashboard-container {
  flex: 1;
  background-color: var(--main-bg);
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden; /* Prevent window scroll */
}

/* TOP HEADER */
.top-header {
  padding: 15px 40px; 
  background-color: white;
  flex-shrink: 0;
}

.search-container { position: relative; width: 400px; }
.search-icon {
  position: absolute; left: 12px; top: 50%;
  transform: translateY(-50%); opacity: 0.5; width: 18px;
}
.search-input {
  width: 100%; padding: 10px 12px 10px 40px; 
  background-color: #F3F4F6; border: none;
  border-radius: 8px; font-size: 0.9rem; outline: none;
}

/* CONTENT PADDING */
.page-content {
  /* 1. Uniform Padding (Matches Employees Page) */
  padding: 5px 40px 30px 40px; 
  
  flex: 1;
  display: flex;
  flex-direction: column;
  width: 100%;
  overflow: hidden;
}

/* --- SHARED PAGE HEADER (Renamed from breadcrumb) --- */
.page-header {
  display: flex;
  justify-content: space-between; /* Pushes content to edges */
  align-items: center;            /* Vertically centers */
  
  /* 2. FIXED HEIGHT (Crucial!) */
  /* This ensures the header is 60px tall even without buttons */
  height: 30px;                   
  
  width: 100%;
  margin-bottom: 20px;
  flex-shrink: 0;
}
.crumb-child { color: var(--secondary-text); }

/* --- KPI ROW --- */
.kpi-row {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px; 
  margin-bottom: 20px; 
  width: 100%;
  flex-shrink: 0;
}

.kpi-card {
  background: white;
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 28px; 
  display: flex; align-items: center; gap: 16px;
  box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}

.kpi-icon-wrapper {
  width: 40px; height: 40px; border-radius: 50%;
  background-color: #F3F4F6;
  display: flex; align-items: center; justify-content: center;
  overflow: hidden; flex-shrink: 0;
}

.kpi-icon-img {
  width: 24px; height: 24px; object-fit: contain; opacity: 0.6; 
}

.kpi-label { display: block; font-size: 0.85rem; color: var(--secondary-text); margin-bottom: 4px; }
.kpi-value { font-size: 1.4rem; font-weight: 700; color: #000; }

/* --- MIDDLE SECTION (Chart & Activity) --- */
.middle-section {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px; 
  margin-bottom: 20px; 
  width: 100%;
  flex-shrink: 0;
}

.chart-card {
  grid-column: span 3; 
  background: white;
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 16px; 
  height: 290px; 
  display: flex; flex-direction: column;
}

.activity-card {
  background: white;
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 16px;
  height: 290px; 
  display: flex; flex-direction: column;
}

.card-title {
  font-size: 0.95rem; font-weight: 600; color: #374151;
  margin-bottom: 10px; flex-shrink: 0;
}

.chart-wrapper { flex: 1; width: 100%; min-height: 0; }

.activity-list { list-style: none; padding-left: 0; overflow-y: auto; flex: 1; }

.activity-item { 
  display: flex; 
  gap: 12px;
  margin-bottom: 15px; 
  align-items: center;
}

/* Activity Avatar Circle */
.activity-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background-color: #FCEEE9;
  color: #943634;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
  flex-shrink: 0;
}

.activity-text { font-size: 0.85rem; color: #374151; line-height: 1.4; }
.activity-text .time { color: var(--secondary-text); font-size: 0.75rem; display: block; }

/* --- TABLE (Fills remaining space) --- */
.table-card {
  background: white;
  border: 1px solid var(--border-color);
  border-radius: 12px;
  overflow: hidden;
  width: 100%;
  flex: 1; 
  display: flex; flex-direction: column;
  min-height: 0;
}

.table-header {
  display: grid;
  grid-template-columns: 2fr 1.5fr 1fr 1fr 1fr;
  padding: 12px 24px; 
  background-color: white;
  border-bottom: 1px solid var(--border-color);
  font-size: 0.8rem;
  color: var(--secondary-text);
  font-weight: 500;
  flex-shrink: 0;
}

/* 1. Enforce specific height for rows so the math works */
/* 1. Force every row to be exactly 70px tall */
.table-row {
    display: grid;
    grid-template-columns: 2fr 1.5fr 1fr 1fr 1fr;
    
    /* --- NEW FIXED HEIGHT --- */
    height: 60px; 
    
    /* Remove vertical padding because 'height' handles the spacing now */
    padding: 0 24px; 
    
    border-bottom: 1px solid #F3F4F6;
    align-items: center; /* Keeps text/avatar vertically centered */
}

/* 2. Set container to fit exactly 4 rows (70px * 4 = 280px) */
.table-body-scroll {
    /* --- NEW FIXED CONTAINER HEIGHT --- */
    max-height: 280px;  
    
    overflow-y: auto;
    overflow-x: hidden;
    border-top: 1px solid #eee;
}
.table-row:last-child { border-bottom: none; }

.col { display: flex; align-items: center; }
.user-cell { gap: 10px; }

.avatar-circle {
  width: 40px; 
  height: 40px; 
  border-radius: 50%; 
  background-color: #FCEEE9; 
  color: #943634; 
  display: flex; 
  align-items: center; 
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
}

.user-details { display: flex; flex-direction: column; }
.user-name { font-weight: 600; font-size: 0.85rem; color: #111827; }
.user-email { font-size: 0.75rem; color: var(--secondary-text); }

.id-chip {
  background-color: #F3F4F6; padding: 2px 8px; border-radius: 6px;
  font-size: 0.75rem; color: #374151; font-weight: 500;
}

.status-pill {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 2px 10px; border-radius: 20px;
  font-size: 0.75rem; font-weight: 500;
}
.status-pill.active { background-color: var(--success-bg); color: var(--success-text); }
.dot { width: 6px; height: 6px; background-color: #10B981; border-radius: 50%; }

.table-body-scroll {
    /* Critical for scrolling */
    max-height: 300px; /* Or whatever fixed height you want */
    overflow-y: auto;  /* Enables vertical scrollbar */
    overflow-x: hidden;
    
    /* Optional visual polish */
    border-top: 1px solid #eee;
}

/* Custom Scrollbar Styling (Optional) */
.table-body-scroll::-webkit-scrollbar {
    width: 6px;
}
.table-body-scroll::-webkit-scrollbar-track {
    background: #f1f1f1; 
}
.table-body-scroll::-webkit-scrollbar-thumb {
    background: #ccc; 
    border-radius: 4px;
}

/* Dashboard.css */

/* Simple CSS Spinner */
.spinner {
  border: 4px solid #f3f3f3; /* Light grey */
  border-top: 4px solid #3498db; /* Blue */
  border-radius: 50%;
  width: 50px;
  height: 50px;
  animation: spin 1s linear infinite;
  margin: 0 auto; /* Horizontal Center */
}

/* Center the spinner vertically in the loading box */
.loading-container {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  width: 100%;
  min-height: 400px; /* Ensures it takes up space */
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}